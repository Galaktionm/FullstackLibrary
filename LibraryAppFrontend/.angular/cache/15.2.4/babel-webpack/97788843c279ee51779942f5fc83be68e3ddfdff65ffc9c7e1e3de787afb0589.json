{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { URLGlobal } from 'src/app/URLGlobal';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nexport class TestComponent {\n  constructor(http) {\n    this.http = http;\n  }\n  ngOnInit() {\n    this.imageForm = new FormGroup({\n      imagedata: new FormControl('')\n    });\n  }\n  onFileSelected(event) {\n    if (event.target != null) {\n      var x = event.target;\n      if (x.files != null) {\n        this.file = x.files[0];\n      }\n    }\n  }\n  uploadImage() {\n    const formData = new FormData();\n    formData.append(\"file\", this.file, this.file.name);\n    const httpOptions = {\n      headers: new HttpHeaders({\n        \"Content-Type\": \"multipart/form-data\" // ðŸ‘ˆ\n      })\n    };\n\n    this.http.post(URLGlobal.libraryAppURL + \"api/book/upload\", formData, options).subscribe({\n      next: result => {\n        console.log(result);\n      },\n      error: errorMessage => {\n        console.log(errorMessage);\n      }\n    });\n  }\n}\nTestComponent.Éµfac = function TestComponent_Factory(t) {\n  return new (t || TestComponent)(i0.ÉµÉµdirectiveInject(i1.HttpClient));\n};\nTestComponent.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n  type: TestComponent,\n  selectors: [[\"app-test\"]],\n  decls: 3,\n  vars: 0,\n  consts: [[3, \"submit\"], [\"type\", \"file\", 3, \"change\"], [\"type\", \"submit\", \"value\", \"Upload\"]],\n  template: function TestComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ÉµÉµelementStart(0, \"form\", 0);\n      i0.ÉµÉµlistener(\"submit\", function TestComponent_Template_form_submit_0_listener() {\n        return ctx.uploadImage();\n      });\n      i0.ÉµÉµelementStart(1, \"input\", 1);\n      i0.ÉµÉµlistener(\"change\", function TestComponent_Template_input_change_1_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ÉµÉµelementEnd();\n      i0.ÉµÉµelement(2, \"input\", 2);\n      i0.ÉµÉµelementEnd();\n    }\n  },\n  dependencies: [i2.ÉµNgNoValidate, i2.NgControlStatusGroup],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAqBA,WAAW,QAAqB,sBAAsB;AAE3E,SAASC,WAAW,EAAEC,SAAS,QAAQ,gBAAgB;AACvD,SAASC,SAAS,QAAQ,mBAAmB;;;;AAO7C,OAAM,MAAOC,aAAa;EAKxBC,YAAoBC,IAAe;IAAf,SAAI,GAAJA,IAAI;EAAc;EAEtCC,QAAQ;IACL,IAAI,CAACC,SAAS,GAAC,IAAIN,SAAS,CAAC;MAC3BO,SAAS,EAAE,IAAIR,WAAW,CAAC,EAAE;KAC/B,CAAC;EACJ;EAEAS,cAAc,CAACC,KAAY;IACzB,IAAGA,KAAK,CAACC,MAAM,IAAE,IAAI,EAAE;MACrB,IAAIC,CAAC,GAACF,KAAK,CAACC,MAA0B;MACtC,IAAGC,CAAC,CAACC,KAAK,IAAE,IAAI,EAAC;QACf,IAAI,CAACC,IAAI,GAACF,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;;;EAG1B;EAEAE,WAAW;IACT,MAAMC,QAAQ,GAAC,IAAIC,QAAQ,EAAE;IAC7BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACJ,IAAI,EAAE,IAAI,CAACA,IAAI,CAACK,IAAI,CAAC;IAClD,MAAMC,WAAW,GAAG;MAClBC,OAAO,EAAE,IAAItB,WAAW,CAAC;QACxB,cAAc,EAAE,qBAAqB,CAAC;OACtC;KACF;;IACD,IAAI,CAACM,IAAI,CAACiB,IAAI,CAACpB,SAAS,CAACqB,aAAa,GAAC,iBAAiB,EAAEP,QAAQ,EAAEQ,OAAO,CAAC,CAACC,SAAS,CAAC;MACrFC,IAAI,EAAGC,MAAM,IAAG;QACdC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACrB,CAAC;MACDG,KAAK,EAAGC,YAAY,IAAG;QACrBH,OAAO,CAACC,GAAG,CAACE,YAAY,CAAC;MAC3B;KACD,CAAC;EAEJ;;AAvCW5B,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAA6B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV1BC,+BAA+B;MAAzBA;QAAA,OAAUC,iBAAa;MAAA,EAAC;MAE1BD,gCAAqD;MAAlCA;QAAA,OAAUC,0BAAsB;MAAA,EAAC;MAApDD,iBAAqD;MAErDA,2BAAoC;MACxCA,iBAAO","names":["HttpHeaders","FormControl","FormGroup","URLGlobal","TestComponent","constructor","http","ngOnInit","imageForm","imagedata","onFileSelected","event","target","x","files","file","uploadImage","formData","FormData","append","name","httpOptions","headers","post","libraryAppURL","options","subscribe","next","result","console","log","error","errorMessage","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/home/galaktion/Desktop/LibraryAppFrontend/src/app/core/test/test.component.ts","/home/galaktion/Desktop/LibraryAppFrontend/src/app/core/test/test.component.html"],"sourcesContent":["import { HttpClient, HttpHeaders, HttpRequest } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { URLGlobal } from 'src/app/URLGlobal';\n\n@Component({\n  selector: 'app-test',\n  templateUrl: './test.component.html',\n  styleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n\n  imageForm!:FormGroup\n  file!: File\n\n  constructor(private http:HttpClient) {}\n\n  ngOnInit(): void {\n     this.imageForm=new FormGroup({\n       imagedata: new FormControl('')\n    });\n  }\n\n  onFileSelected(event: Event){\n    if(event.target!=null) {\n      var x=event.target as HTMLInputElement;\n      if(x.files!=null){\n        this.file=x.files[0];\n      }\n    }\n  }\n\n  uploadImage(){\n    const formData=new FormData();\n    formData.append(\"file\", this.file, this.file.name);\n    const httpOptions = {\n      headers: new HttpHeaders({\n       \"Content-Type\": \"multipart/form-data\" // ðŸ‘ˆ\n      })\n    };\n    this.http.post(URLGlobal.libraryAppURL+\"api/book/upload\", formData, options).subscribe({\n      next: (result)=>{\n        console.log(result);\n      },\n      error: (errorMessage)=>{\n        console.log(errorMessage);\n      }\n    });\n\n  }\n\n}\n","<form (submit)=\"uploadImage()\">\n\n    <input type=\"file\" (change)=\"onFileSelected($event)\">\n\n    <input type=\"submit\" value=\"Upload\">\n</form>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}